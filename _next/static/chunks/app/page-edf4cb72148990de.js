(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{2688:function(e,t,i){Promise.resolve().then(i.bind(i,2855))},2855:function(e,t,i){"use strict";i.d(t,{Game:function(){return c}});var n=i(7437),s=i(2265);let r="abcdefghijklmnopqrstuvwxyz";var o=i(8614),l=i(7406);class a{get isFinalStage(){return this.ragdollStage===this.ragdollObjectStages.length-1}attach(){this.isAttached||(this.isAttached=!0,l.Render.run(this.render),document.addEventListener("mousemove",this.onMouseMove.bind(this)),window.addEventListener("resize",this.onWindowResize.bind(this)))}detach(){this.isAttached&&(this.isAttached=!1,document.removeEventListener("mousemove",this.onMouseMove),window.removeEventListener("resize",this.onWindowResize),l.Render.stop(this.render),this.render.canvas.remove(),this.render.textures={})}destroy(){this.detach(),l.World.clear(this.engine.world,!1),l.Engine.clear(this.engine),l.Runner.stop(this.runner)}onWindowResize(){let e=document.body.getBoundingClientRect();this.render.canvas.width=e.width*window.devicePixelRatio,this.render.canvas.height=e.height*window.devicePixelRatio}onMouseMove(e){this.pointerPosition.x=e.clientX,this.pointerPosition.y=e.clientY}onAfterUpdate(){if(!this.ragdoll)return;let e=this.ragdoll.bodies.find(e=>"handle"===e.label),t=l.Vector.add(l.Vector.sub(this.pointerPosition,e.position),l.Vector.create(0,-20)),i=l.Vector.mult(t,4e-4*this.ragdoll.bodies.length);l.Body.applyForce(e,e.position,i)}nextStage(){this.ragdollStage++;let e=this.ragdollObjectStages[this.ragdollStage];e.filter(e=>"position"in e).forEach(e=>l.Body.setPosition(e,l.Vector.add(e.position,this.pointerPosition))),l.Composite.add(this.ragdoll,e)}resetStages(){l.Composite.remove(this.engine.world,this.ragdoll),this.ragdoll=l.Composite.create(),l.Composite.add(this.engine.world,this.ragdoll),this.ragdollObjectStages=d(0,0,1.3),this.ragdollStage=-1,this.nextStage()}obliterateRagdoll(){this.ragdoll.constraints.forEach(e=>l.Composite.remove(this.ragdoll,e))}constructor(e,t=1.3){this.canvasParent=e,this.pointerPosition=l.Vector.create(0,0),this.isAttached=!1,this.engine=l.Engine.create({gravity:l.Vector.create(0,7)}),this.render=l.Render.create({element:this.canvasParent,engine:this.engine,options:{width:this.canvasParent.clientWidth,height:this.canvasParent.clientHeight,showAngleIndicator:!0}}),this.runner=l.Runner.create(),l.Runner.run(this.runner,this.engine),this.ragdollObjectStages=d(0,0,t),this.ragdoll=l.Composite.create(),this.ragdollStage=-1,this.nextStage(),l.Composite.add(this.engine.world,this.ragdoll),l.Events.on(this.engine,"afterUpdate",this.onAfterUpdate.bind(this)),this.onWindowResize()}}function d(e,t){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,n=l.Bodies.rectangle(e,t-60*i,34*i,40*i,{label:"head",collisionFilter:{group:l.Body.nextGroup(!0)},chamfer:{radius:[15*i,15*i,15*i,15*i]},render:{fillStyle:"#FFBC42"}}),s=l.Bodies.rectangle(e,t,55*i,80*i,{label:"chest",collisionFilter:{group:l.Body.nextGroup(!0)},chamfer:{radius:[20*i,20*i,26*i,26*i]},render:{fillStyle:"#E0A423"}}),r={collisionFilter:{group:l.Body.nextGroup(!0)},chamfer:{radius:10*i},render:{fillStyle:"#FFBC42"},mass:2},o=l.Bodies.rectangle(e+39*i,t+50*i,20*i,20*i,{...r,label:"handle",render:{visible:!1},mass:1}),a=l.Bodies.rectangle(e+39*i,t-15*i,20*i,40*i,{...r,label:"right-upper-arm"}),d=l.Bodies.rectangle(e+39*i,t+25*i,20*i,60*i,{...r,label:"right-lower-arm"}),c=l.Bodies.rectangle(e-39*i,t-15*i,20*i,40*i,{...r,label:"left-upper-arm"}),h=l.Bodies.rectangle(e-39*i,t+25*i,20*i,60*i,{...r,label:"left-lower-arm"}),g=l.Bodies.rectangle(e-20*i,t+57*i,20*i,40*i,{...r,label:"left-upper-leg"}),u=l.Bodies.rectangle(e-20*i,t+97*i,20*i,60*i,{...r,label:"left-lower-leg"}),p=l.Bodies.rectangle(e+20*i,t+57*i,20*i,40*i,{...r,label:"right-upper-leg"}),f=l.Bodies.rectangle(e+20*i,t+97*i,20*i,60*i,{...r,label:"right-lower-leg"}),b=l.Constraint.create({bodyA:o,pointA:{x:-10*i,y:0},pointB:{x:0,y:20*i},bodyB:d,render:{visible:!1},stiffness:1,damping:0}),y=l.Constraint.create({bodyA:s,pointA:{x:24*i,y:-23*i},pointB:{x:0,y:-8*i},bodyB:a,stiffness:.6,render:{visible:!1}}),x=l.Constraint.create({bodyA:s,pointA:{x:-24*i,y:-23*i},pointB:{x:0,y:-8*i},bodyB:c,stiffness:.6,render:{visible:!1}}),m=l.Constraint.create({bodyA:s,pointA:{x:-10*i,y:30*i},pointB:{x:0,y:-10*i},bodyB:g,stiffness:.6,render:{visible:!1}}),v=l.Constraint.create({bodyA:s,pointA:{x:10*i,y:30*i},pointB:{x:0,y:-10*i},bodyB:p,stiffness:.6,render:{visible:!1}}),B=l.Constraint.create({bodyA:a,bodyB:d,pointA:{x:0,y:15*i},pointB:{x:0,y:-25*i},stiffness:.6,render:{visible:!1}}),w=l.Constraint.create({bodyA:c,bodyB:h,pointA:{x:0,y:15*i},pointB:{x:0,y:-25*i},stiffness:.6,render:{visible:!1}}),A=l.Constraint.create({bodyA:g,bodyB:u,pointA:{x:0,y:20*i},pointB:{x:0,y:-20*i},stiffness:.6,render:{visible:!1}}),S=l.Constraint.create({bodyA:p,bodyB:f,pointA:{x:0,y:20*i},pointB:{x:0,y:-20*i},stiffness:.6,render:{visible:!1}}),C=l.Constraint.create({bodyA:n,pointA:{x:0,y:25*i},pointB:{x:0,y:-35*i},bodyB:s,stiffness:.6,render:{visible:!1}});return[[o],[d,b],[a,B],[s,y],[p,v],[g,m],[c,x],[n,C],[u,A],[h,w],[f,S]]}function c(){let[e,t]=(0,s.useState)(""),[i,l]=(0,s.useState)([]),[d,c]=(0,s.useState)(),[p,f]=(0,s.useState)(0),[b,y]=(0,s.useState)(0);function x(){t(function(e){let t=Math.floor(Math.random()*e.length);return e[t]}(o)),l([]),d&&d.resetStages()}(0,s.useEffect)(()=>{x();let e=new a(document.querySelector("#ragdoll"));c(e),e.attach()},[]);let m=(0,s.useCallback)(()=>Array.from(e).map(e=>i.includes(e)?e:null),[e,i]);return(0,n.jsxs)("div",{className:"w-full flex flex-col gap-20 row-start-2 items-center",children:[(0,n.jsx)(h,{currentWordStatus:m()}),(0,n.jsx)(g,{guessedLetters:i,guessLetter:function(t){if(!d)return;if(1!==t.length||!r.includes(t))throw Error("Incorrect argument: ".concat(t,". Please provide a single English letter."));let n=[...i,t];l(n),e.includes(t)?Array.from(e).every(e=>n.includes(e))&&(f(p+1),x()):(d.nextStage(),d.isFinalStage&&(y(b+1),d.obliterateRagdoll(),l(r.split("")),setTimeout(x,2e3)))}}),(0,n.jsx)(u,{wins:p,losses:b})]})}function h(e){let{currentWordStatus:t}=e,i=t.map((e,t)=>(0,n.jsx)("div",{className:"p-2 h-30 w-30 text-6xl border-b-4 white ".concat(e?"text-white":"text-gray-800"),children:null!=e?e:"?"},t));return(0,n.jsx)("div",{className:"row-start-3 flex gap-10 flex-wrap items-center justify-center",children:i})}function g(e){let{guessedLetters:t,guessLetter:i}=e,s=Array.from(r).map(e=>(0,n.jsx)("button",{disabled:t.includes(e),onClick:()=>i(e),children:e},e));return(0,n.jsx)("div",{className:"grid grid-cols-13",children:s})}function u(e){let{wins:t,losses:i}=e;return(0,n.jsxs)("div",{className:"fixed bottom-16 right-16 flex flex-col gap-5 text-3xl",children:[(0,n.jsx)("span",{title:"Wins",className:"wins flex gap-5",children:t}),(0,n.jsx)("span",{title:"Losses",className:"losses flex gap-5",children:i})]})}}},function(e){e.O(0,[866,21,971,117,744],function(){return e(e.s=2688)}),_N_E=e.O()}]);